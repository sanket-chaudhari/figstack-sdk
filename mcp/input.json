{
    "files": [
      {
        "path": "plugins/demo-mint-component-audit/index.ts",
        "content": "import { getFile } from '../../core/figma-api/figma-api.js';\nimport { getPagesInFile, getTopLevelFramesInPage } from '../../core/traversal/traversal.js';\nimport { logAllComponentInstancesInFrame } from './analyze.js';\nimport 'dotenv/config';\n\nconst FILE_KEY = process.env.TEST_FILE_KEY;\n\n(async () => {\n  if (!FILE_KEY) {\n    console.error('‚ùå TEST_FILE_KEY missing in .env');\n    process.exit(1);\n  }\n\n  try {\n    const file = await getFile(FILE_KEY);\n    const pages = getPagesInFile(file);\n    const componentsById = file.components || {};\n\n    console.log(`‚úÖ Analyzing ${pages.length} page(s)...\\n`);\n\n    for (const page of pages) {\n      const frames = getTopLevelFramesInPage(page);\n      console.log(`üìÑ Page: ${page.name} ‚Üí ${frames.length} frame(s)`);\n\n      for (const frame of frames) {\n        console.log(`  üñº Frame: ${frame.name}`);\n        logAllComponentInstancesInFrame(frame, componentsById);\n      }\n    }\n  } catch (err) {\n    console.error('‚ùå Error in plugin:', err);\n  }\n})();"
      },
      {
        "path": "plugins/demo-mint-component-audit/analyze.ts",
        "content": "import { classifyResolvedName } from './helpers.js';\n\nexport function logAllComponentInstancesInFrame(frameNode, componentsById) {\n  function walk(node) {\n    if (node.type === 'INSTANCE') {\n      const componentId = node.componentId;\n      const resolved = componentsById?.[componentId]?.name || '[Unknown]';\n      const classification = classifyResolvedName(resolved);\n\n      console.log(`    ‚Ä¢ Instance ID: ${node.id}`);\n      console.log(`      ‚Ü≥ Component ID: ${componentId}`);\n      console.log(`      ‚Ü≥ Resolved Name: ${resolved}`);\n      console.log(`      ‚Ü≥ Classification: ${classification}\\n`);\n    }\n\n    if (node.children && Array.isArray(node.children)) {\n      node.children.forEach(walk);\n    }\n  }\n\n  walk(frameNode);\n}"
      }
    ],
    "commitMessage": "Debug: log raw instance traversal with resolved component name and classification"
  }
  