{
    "files": [
      {
        "path": "core/traversal/traversal.ts",
        "content": "import { getTeamProjects, getProjectFiles } from '../figma-api/figma-api.js';\n\n/**\n * Fetch all files across all projects within a given Figma team.\n */\nexport async function getAllFilesInTeam(teamId) {\n  const projectsResponse = await getTeamProjects(teamId);\n  const projects = projectsResponse.projects ?? [];\n\n  const allFiles = [];\n\n  for (const project of projects) {\n    const filesResponse = await getProjectFiles(project.id);\n    const files = filesResponse.files ?? [];\n\n    for (const file of files) {\n      allFiles.push({\n        name: file.name,\n        key: file.key,\n        projectId: project.id\n      });\n    }\n  }\n\n  return allFiles;\n}"
      },
      {
        "path": "scripts/test-traversal.ts",
        "content": "import { getAllFilesInTeam } from '../core/traversal/traversal.js';\nimport 'dotenv/config';\n\nconst TEAM_ID = process.env.TEST_TEAM_ID;\n\n(async () => {\n  if (!TEAM_ID) {\n    console.error('❌ TEST_TEAM_ID is missing in .env');\n    process.exit(1);\n  }\n\n  try {\n    const files = await getAllFilesInTeam(TEAM_ID);\n    console.log(`✅ Found ${files.length} files:`);\n    files.forEach(file => {\n      console.log(`- ${file.name} (${file.key})`);\n    });\n  } catch (err) {\n    console.error('❌ Error during traversal:', err);\n  }\n})();"
      }
    ],
    "commitMessage": "[Milestone] Add getAllFilesInTeam to traversal module with test script"
  }
  