{
    "files": [
      {
        "path": "core/utils/parseFigmaUrl.ts",
        "content": "export function parseFigmaUrl(url: string) {\n  const result = {\n    fileKey: null,\n    nodeId: undefined,\n    pageId: undefined,\n    branchId: undefined,\n    isValid: false,\n    error: undefined\n  };\n\n  try {\n    const figmaBase = 'https://www.figma.com/file/';\n    if (!url.startsWith(figmaBase)) {\n      result.error = 'Not a valid Figma file URL';\n      return result;\n    }\n\n    const urlObj = new URL(url);\n    const [, , , fileKey] = urlObj.pathname.split('/');\n    if (!fileKey) {\n      result.error = 'Missing file key';\n      return result;\n    }\n\n    result.fileKey = fileKey;\n    result.nodeId = urlObj.searchParams.get('node-id') || undefined;\n    result.pageId = urlObj.searchParams.get('page-id') || undefined;\n    result.branchId = urlObj.searchParams.get('branch-id') || undefined;\n    result.isValid = true;\n    return result;\n  } catch (err) {\n    result.error = 'Malformed URL';\n    return result;\n  }\n}"
      }
    ],
    "commitMessage": "Add parseFigmaUrl utility to extract fileKey, nodeId, and other params from Figma URLs"
  }
  