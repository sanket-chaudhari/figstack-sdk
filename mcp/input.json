{
    "files": [
      {
        "path": "scripts/parse-url.ts",
        "content": "import '../scripts/.env.loader.js';\nimport { parseFigmaUrl } from '../core/utils/parseFigmaUrl.js';\nimport { resolveScope } from '../core/scope/resolveScope.js';\n\nconst inputUrl = process.argv[2];\nconst shouldResolve = process.argv.includes('--resolve');\nconst asJson = process.argv.includes('--json');\n\nif (!inputUrl) {\n  console.error('âŒ Please provide a Figma URL as an argument.');\n  process.exit(1);\n}\n\nconst parsed = parseFigmaUrl(inputUrl);\n\nif (asJson) {\n  console.log(JSON.stringify(parsed, null, 2));\n  process.exit(0);\n}\n\nconsole.log('ğŸ“¦ Parsed URL:');\n\nif (!parsed.isValid) {\n  console.error(`âŒ Invalid Figma URL â†’ ${parsed.error}`);\n  process.exit(1);\n}\n\nconsole.log(`â€¢ fileKey: ${parsed.fileKey}`);\nif (parsed.nodeId) console.log(`â€¢ nodeId: ${parsed.nodeId}`);\nif (parsed.pageId) console.log(`â€¢ pageId: ${parsed.pageId}`);\nif (parsed.branchId) console.log(`â€¢ branchId: ${parsed.branchId}`);\n\nif (shouldResolve) {\n  console.log('\\nğŸ” Resolving from Figma...');\n\n  resolveScope({ fileKey: parsed.fileKey, nodeId: parsed.nodeId })\n    .then(res => {\n      if (!res.valid) {\n        console.log(`âŒ Resolution failed: ${res.error}`);\n      } else {\n        console.log(`â€¢ File name: â€œ${res.fileName}â€`);\n        if (res.diagnostics.nodeResolved) {\n          console.log(`â€¢ Node: â€œ${res.diagnostics.nodeName}â€ [${res.diagnostics.nodeType}]`);\n        }\n      }\n    })\n    .catch(err => console.error('âŒ Error during resolution:', err.message));\n}"
      }
    ],
    "commitMessage": "Add --json flag to parse-url.ts to return raw JSON output"
  }
  