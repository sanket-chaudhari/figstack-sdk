{
    "files": [
      {
        "path": "scripts/test-env.ts",
        "content": "import '../scripts/.env.loader.js';\nimport { resolveScope } from '../core/scope/resolveScope.js';\n\nconsole.log('ğŸ§ª Environment Diagnostic');\nconsole.log('==========================');\n\nconst token = process.env.FIGMA_PERSONAL_ACCESS_TOKEN;\nconst fileKey = process.env.TEST_FILE_KEY;\nconst pageName = process.env.TEST_PAGE_NAME;\nconst nodeId = process.env.TEST_NODE_ID;\n\nconsole.log('ğŸ” FIGMA_PERSONAL_ACCESS_TOKEN:', token ? 'âœ… Present' : 'âŒ Missing');\n\n(async () => {\n  if (!fileKey) {\n    console.log('ğŸ“ TEST_FILE_KEY: âŒ Missing');\n    return;\n  }\n\n  const scopeResult = await resolveScope({ fileKey, pageName, nodeId });\n\n  if (!scopeResult.valid) {\n    console.log(`ğŸ“‚ File Key: âŒ Invalid â†’ ${scopeResult.error}`);\n    return;\n  }\n\n  console.log(`ğŸ“‚ File: âœ… â€œ${scopeResult.fileName}â€`);\n\n  if (pageName) {\n    console.log(`ğŸ“„ Page: ${scopeResult.diagnostics.pageFound ? 'âœ… Found' : 'âŒ Not found'}`);\n  }\n\n  if (nodeId) {\n    if (scopeResult.diagnostics.nodeResolved) {\n      console.log(`ğŸ”– Node: âœ… â€œ${scopeResult.diagnostics.nodeName}â€ [${scopeResult.diagnostics.nodeType}]`);\n    } else {\n      console.log(`ğŸ”– Node: âŒ Could not resolve node ID.`);\n    }\n  }\n})();"
      }
    ],
    "commitMessage": "Update test-env script to use resolveScope and print safe diagnostics"
  }
  